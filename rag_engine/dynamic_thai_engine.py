"""
Dynamic RAG Engine for Thai
"""
from .dynamic_rag_base import DynamicRAGEngineBase

class DynamicThaiRAGEngine(DynamicRAGEngineBase):
    """Dynamic Thai RAG Engine"""

    REWRITE_PROMPT_TEMPLATE = """โปรดดึงคำสำคัญที่สำคัญที่สุด 2-3 คำจากคำถามต่อไปนี้ คั่นด้วยช่องว่าง

คำถาม: {original_query}

คำสำคัญ:"""

    ANSWER_PROMPT_TEMPLATE = """คุณเป็นผู้ช่วย AI มืออาชีพสำหรับเอกสาร โปรดตอบ "คำถามของผู้ใช้" ตาม "ข้อมูลบริบท" ด้านล่างอย่างเคร่งครัด โปรดตอบเป็นภาษาเดียวกับคำถาม (ภาษาไทย)

ข้อมูลบริบท:
---
{context}
---

คำถามของผู้ใช้: {question}

โปรดให้คำตอบที่ถูกต้องและละเอียด หากไม่มีข้อมูลเพียงพอในบริบท โปรดระบุให้ชัดเจนว่า "จากเอกสารที่ให้มา ฉันไม่พบข้อมูลที่เกี่ยวข้อง"

คำตอบ:"""

    RELEVANCE_PROMPT_TEMPLATE = """คุณเป็นผู้เชี่ยวชาญด้านการประเมินความเกี่ยวข้องของเอกสาร โปรดอธิบายสั้นๆ ว่าทำไมเนื้อหาของเอกสารด้านล่างจึงเกี่ยวข้องกับคำค้นหาของผู้ใช้ โปรดตอบเป็นภาษาไทยอย่างเคร่งครัด

คำค้นหาของผู้ใช้: {question}
เนื้อหาของเอกสาร:
---
{trimmed_content}
---
เหตุผลความเกี่ยวข้อง:"""

    def get_language(self) -> str:
        return "ไทย"
